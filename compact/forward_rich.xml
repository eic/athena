<?xml version="1.0" encoding="UTF-8"?>
<lccdd>
  <define>
    <constant name="ForwardRICH_zmin"   value="BarrelTracking_length/2.0 + ForwardTracking_length "/>
    <constant name="ForwardRICH_rmin"   value="ForwardPID_rmin1"/>
    <constant name="ForwardRICH_rmax0"  value="TrackerBarrel_rmax"/>
    <constant name="ForwardRICH_rmax1"  value="EcalBarrel_rmin"/>
    <constant name="ForwardRICH_rmax2"  value="Solenoid_rmin-6*cm"/>
    <constant name="ForwardRICHDepth"   value="0.9*m"/>
  </define>

  <detectors>
    <detector 
      id="ForwardRICH_ID" 
      name="ForwardRICH" 
      type="refdet_ForwardRICH" 
      readout="ForwardRICHHits" 
      vis="RICHVis">
      <dimensions 
        z0="ForwardRICH_zmin" 
        snout_length="ForwardRICH_length - ForwardRICHDepth"
        length="ForwardRICH_length" 
        rmin="ForwardRICH_rmin" 
        rmax0="ForwardRICH_rmax0" 
        rmax1="ForwardRICH_rmax1" 
        rmax2="ForwardRICH_rmax2"/>
      <radiator material="N2cherenkov" />
      <tank 
        length="ForwardRICHDepth" 
        gas="N2cherenkov"
        vis="GreenVis"
        rmin="ForwardRICH_rmin"
        rmax1="ForwardRICH_rmax1"
        rmax2="ForwardRICH_rmax2" />
      <comment> What are the following MCP-PMT parameters?</comment>
      <mcppmt
        z0="0.0*cm"
        rmin="ForwardRICH_rmax1" 
        rmax="ForwardRICH_rmax2" 
        rtol="1.0*cm" 
        vis="BlueVis"
        module_size="10*cm" 
        module_gap="0.2*cm" 
        thickness="1.0*cm" 
        material="Quartz" />
      <mirror 
        z0="ForwardRICH_length - 40*cm" 
        thickness="1*mm" 
        material="PyrexGlass" 
        vis="GrayVis">
        <slice focus="10*cm" curve="300*cm" rmin="ForwardRICH_rmin" rmax="ForwardRICH_rmax1" phiw="59*degree" rotz="0*degree" />
        <slice focus="10*cm" curve="300*cm" rmin="ForwardRICH_rmin" rmax="ForwardRICH_rmax1" phiw="59*degree" rotz="60*degree" />
        <slice focus="10*cm" curve="300*cm" rmin="ForwardRICH_rmin" rmax="ForwardRICH_rmax1" phiw="59*degree" rotz="120*degree" />
        <slice focus="10*cm" curve="300*cm" rmin="ForwardRICH_rmin" rmax="ForwardRICH_rmax1" phiw="59*degree" rotz="180*degree" />
        <slice focus="10*cm" curve="300*cm" rmin="ForwardRICH_rmin" rmax="ForwardRICH_rmax1" phiw="59*degree" rotz="240*degree" />
        <slice focus="10*cm" curve="300*cm" rmin="ForwardRICH_rmin" rmax="ForwardRICH_rmax1" phiw="59*degree" rotz="300*degree" />
      </mirror>
    </detector>
  </detectors>

  <readouts>
    <readout name="ForwardRICHHits">
      <segmentation type="CartesianGridXY" grid_size_x="3*mm" grid_size_y="3*mm" />
      <id>system:8,layer:4,piece:4,module:14,x:32:-16,y:-16</id>
    </readout>
  </readouts>

</lccdd>
