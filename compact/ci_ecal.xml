<lccdd>
  <define>

    <constant name="EcalEndcapPSiliconThickness"       value="9.00 * mm" />
    <constant name="EcalEndcapPCopperThickness"        value="0.05 * mm" />
    <constant name="EcalEndcapPKaptonThickness"        value="0.30 * mm" />
    <constant name="EcalEndcapPAir1Thickness"          value="0.33 * mm" />
    <constant name="EcalEndcapPAir2Thickness"          value="0.25 * mm" />
    <constant name="EcalEndcapPThinTungstenThickness"  value="2.50 * mm" />
    <constant name="EcalEndcapPThickTungstenThickness" value="5.00 * mm" />
    <constant name="EcalEndcapPLayer1_thickness"
        value="EcalEndcapPSiliconThickness + EcalEndcapPCopperThickness + EcalEndcapPKaptonThickness + EcalEndcapPAir1Thickness"/>
    <constant name="EcalEndcapPLayer2_thickness"   
        value="EcalEndcapPThinTungstenThickness + EcalEndcapPAir2Thickness + EcalEndcapPSiliconThickness + EcalEndcapPCopperThickness + EcalEndcapPKaptonThickness + EcalEndcapPAir1Thickness"/>
    <constant name="EcalEndcapPLayer3_thickness"   
        value="EcalEndcapPThickTungstenThickness + EcalEndcapPAir2Thickness + EcalEndcapPSiliconThickness + EcalEndcapPCopperThickness + EcalEndcapPKaptonThickness + EcalEndcapPAir1Thickness"/>
    <constant name="EcalEndcapPLayers" 
        value="floor((EcalEndcapP_length - EcalEndcapPLayer1_thickness) / (EcalEndcapPLayer2_thickness + EcalEndcapPLayer3_thickness))"/>
    <constant name="EcalEndcapPLayer1_NRepeat"      value="1"/>
    <constant name="EcalEndcapPLayer2_NRepeat"      value="EcalEndcapPLayers"/>
    <constant name="EcalEndcapPLayer3_NRepeat"      value="EcalEndcapPLayers"/>



  </define>


  <limits>
  </limits>

  <regions>
  </regions>

  <display>
  </display>

  <detectors>

    <documentation level="10">
      #### Forward (Positive Z) Endcap EM Calorimeter

      A layered EM calorimeter with tungsten and silicon (or scintillator) strips
    </documentation>
    <detector id="ECalEndcapP_ID" 
      name="EcalEndcapP" 
      reflect="false" 
      type="athena_PolyhedraEndcapCalorimeter2" 
      readout="EcalEndcapPHits" 
      vis="EcalEndcapVis" 
      calorimeterType="EM_ENDCAP" >
      <position x="0" y="0" z="-0"/>
      <dimensions 
        numsides="CaloSides" 
        zmin="EcalEndcapP_zmin" 
        rmin="EcalEndcapP_rmin" 
        rmax="EcalEndcapP_rmax " />
      <layer repeat="EcalEndcapPLayer1_NRepeat" vis="EcalEndcapLayerVis">
        <slice material="Silicon" thickness="EcalEndcapPSiliconThickness" sensitive="yes" limits="cal_limits"/>
        <slice material="Copper" thickness="EcalEndcapPCopperThickness"/>
        <slice material="Kapton" thickness="EcalEndcapPKaptonThickness"/>
        <slice material="Air" thickness="EcalEndcapPAir1Thickness"/>
      </layer>
      <layer repeat="EcalEndcapPLayer2_NRepeat" vis="EcalEndcapLayerVis">
        <slice material="TungstenDens24" thickness="EcalEndcapPThinTungstenThickness"/>
        <slice material="Air" thickness="EcalEndcapPAir2Thickness"/>
        <slice material="Silicon" thickness="EcalEndcapPSiliconThickness" sensitive="yes" limits="cal_limits"/>
        <slice material="Copper" thickness="EcalEndcapPCopperThickness"/>
        <slice material="Kapton" thickness="EcalEndcapPKaptonThickness"/>
        <slice material="Air" thickness="EcalEndcapPAir1Thickness"/>
      </layer>
      <layer repeat="EcalEndcapPLayer3_NRepeat" vis="EcalEndcapLayerVis">
        <slice material="TungstenDens24" thickness="EcalEndcapPThickTungstenThickness"/>
        <slice material="Air" thickness="EcalEndcapPAir2Thickness"/>
        <slice material="Silicon" thickness="EcalEndcapPSiliconThickness" sensitive="yes" limits="cal_limits"/>
        <slice material="Copper" thickness="EcalEndcapPCopperThickness"/>
        <slice material="Kapton" thickness="EcalEndcapPKaptonThickness"/>
        <slice material="Air" thickness="EcalEndcapPAir1Thickness"/>
      </layer>
    </detector>
  </detectors>

  <!--  Definition of the readout segmentation/definition  -->
  <readouts>
    <readout name="EcalEndcapPHits">
      <segmentation type="CartesianGridXY" grid_size_x="3.5 * mm" grid_size_y="3.5 * mm"/>
      <id>system:8,barrel:3,module:4,layer:6,slice:5,x:32:-16,y:-16</id>
    </readout>
  </readouts>

  <plugins>
  </plugins>


</lccdd>
