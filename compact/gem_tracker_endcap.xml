<lccdd>

  <comment> Central Barrel Tracker Silicon </comment>        

  <define>
    <comment> Si layer opiton </comment>
    <constant name="GEMTrackerEndcapFoilX1"           value="43.0 * mm"/>
    <constant name="GEMTrackerEndcapFoilY"            value="1020.0 * mm"/>
    <constant name="GEMTrackerEndcapFoilOpeningAngle" value="30.1*degree"/>
    <constant name="GEMTrackerEndcapFoilX2"           value="2*GEMTrackerEndcapFoilY*tan(GEMTrackerEndcapFoilOpeningAngle/2.0) +  GEMTrackerEndcapFoilX1"/>
    <constant name="GEMTrackerEndcapFoil_rmin"        value="GEMTrackerEndcapFoilX1/(tan(GEMTrackerEndcapFoilOpeningAngle/2.0)*2.0)"/>
    <constant name="GEMTrackerEndcapFoil_rmax"        value="(GEMTrackerEndcapFoilY+GEMTrackerEndcapFoil_rmin)/(cos(GEMTrackerEndcapFoilOpeningAngle/2.0))"/>
  </define>

  <limits>
  </limits>

  <regions>
  </regions>

  <display>
  </display>

  <detectors>
    <detector
      id="GEMTrackerEndcap_ID"
      name="GEMTrackerEndcap"
      type="refdet_GEMTrackerEndcap"
      readout="GEMTrackerEndcapHits"
      vis="Argonne_Red"
      reflect="false">
      <module name="GEMModule1" vis="Argonne_Process_Blue">
        <trd x1="GEMTrackerEndcapFoilX1/2.0" x2="GEMTrackerEndcapFoilX2/2.0" z="GEMTrackerEndcapFoilY/2"/>
        <comment> Going from HV side to readout side</comment>
        <module_component thickness="1.127 * mm" material="Mylar"/>
        <module_component thickness="3*mm" material="Ar10CO2"/>
        <module_component thickness="0.127 * mm" material="Mylar"/>
        <module_component thickness="2*mm" material="Ar10CO2"/>
        <module_component thickness="0.127 * mm" material="Mylar"/>
        <module_component thickness="2*mm" material="Ar10CO2"/>
        <module_component thickness="0.127 * mm" material="Mylar"/>
        <module_component thickness="2*mm" material="Ar10CO2"/>
        <module_component thickness="0.175 * mm" material="Epoxy" sensitive="true" vis="Argonne_Process_Blue"/>
      </module>
      <layer id="1" >
        <envelope vis="Argonne_Red"
          rmin="GEMTrackerEndcapFoil_rmin" rmax="GEMTrackerEndcapFoil_rmax"
          zstart="SiliconTrackerOuterBarrelLength/2+15*mm" length="30.0*mm"  />
        <ring r="GEMTrackerEndcapFoil_rmin+GEMTrackerEndcapFoilY/2.0"
          zstart="SiliconTrackerOuterBarrelLength/2+20*mm"
          nmodules="12" dz="10 * mm" module="GEMModule1" />
      </layer>
    </detector>

  </detectors>

  <readouts>
    <readout name="GEMTrackerEndcapHits">
      <segmentation type="CartesianGridXY" grid_size_x="1.0*mm" grid_size_y="1.0*mm" />
      <id>system:8,barrel:2,layer:4,module:12,sensor:2,x:32:-16,y:-16</id>
    </readout>
  </readouts>

  <plugins>
  </plugins>

  <fields>
  </fields>
</lccdd>
